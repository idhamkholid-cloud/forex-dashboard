<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Forex Signal Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body class="bg-gray-900 text-white p-6">
  <h1 class="text-3xl font-bold mb-6">üìä Forex Live Signal Dashboard</h1>
  <div id="dashboard" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

  <script>
    const url = "https://script.google.com/macros/s/AKfycbyKLvSQlDuYy1aNAzDuiEiAEfpScvULjLwu6W0BHCpUOacG9PMUH5BCV3dUi8llMdOB/exec";

    async function fetchData() {
      try {
        const res = await fetch(url);
        const data = await res.json();
        const container = document.getElementById("dashboard");
        container.innerHTML = "";

        data.forEach(item => {
          const signalColor = item.signal === "BUY" ? "text-green-400" : "text-red-400";
          const volIcon = item.volumeSpike === true || item.volumeSpike === "TRUE" ? "‚úÖ" : "‚ùå";

          container.innerHTML += `
            <div class="bg-gray-800 rounded-2xl p-5 shadow-lg">
              <h2 class="text-xl font-bold mb-2">${item.symbol}</h2>
              <p>Signal: <span class="${signalColor} font-semibold">${item.signal}</span></p>
              <p>Trend: ${item.trend}</p>
              <p>Entry: ${item.entry}</p>
              <p>TP: ${item.tp}</p>
              <p>SL: ${item.sl}</p>
              <p>RR: ${item.rr}</p>
              <p>Size: ${item.size} lot</p>
              <p>Volume Spike: ${volIcon}</p>
            </div>
          `;
        });
      } catch (error) {
        console.error("Error fetching data:", error);
        document.getElementById("dashboard").innerHTML =
          "<p class='text-red-500'>Failed to load data. Check your API URL or CORS permissions.</p>";
      }
    }

    fetchData();
    setInterval(fetchData, 10000); // Auto-refresh setiap 10 detik
  </script>
</body>
</html>
